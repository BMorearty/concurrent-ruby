<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Concurrent
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1>Concurrent Ruby</h1>

<p><a href="http://badge.fury.io/rb/concurrent-ruby"><img src="https://badge.fury.io/rb/concurrent-ruby.png" alt="Gem Version"></a> <a href="https://travis-ci.org/ruby-concurrency/concurrent-ruby"><img src="https://travis-ci.org/ruby-concurrency/concurrent-ruby.svg?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/r/ruby-concurrency/concurrent-ruby"><img src="https://coveralls.io/repos/ruby-concurrency/concurrent-ruby/badge.png" alt="Coverage Status"></a> <a href="https://codeclimate.com/github/ruby-concurrency/concurrent-ruby"><img src="https://codeclimate.com/github/ruby-concurrency/concurrent-ruby.png" alt="Code Climate"></a> <a href="http://inch-ci.org/github/ruby-concurrency/concurrent-ruby"><img src="http://inch-ci.org/github/ruby-concurrency/concurrent-ruby.png" alt="Inline docs"></a> <a href="https://gemnasium.com/ruby-concurrency/concurrent-ruby"><img src="https://gemnasium.com/ruby-concurrency/concurrent-ruby.png" alt="Dependency Status"></a> <a href="http://opensource.org/licenses/MIT"><img src="http://img.shields.io/license/MIT.png?color=green" alt="License"></a> <a href="https://gitter.im/ruby-concurrency/concurrent-ruby"><img src="https://badges.gitter.im/ruby-concurrency/concurrent-ruby.png" alt="Gitter chat"></a></p>

<table>
  <tr>
    <td align="left" valign="top">
      <p>
        Modern concurrency tools for Ruby. Inspired by
        <a href="http://www.erlang.org/doc/reference_manual/processes.html">Erlang</a>,
        <a href="http://clojure.org/concurrent_programming">Clojure</a>,
        <a href="http://akka.io/">Scala</a>,
        <a href="http://www.haskell.org/haskellwiki/Applications_and_libraries/Concurrency_and_parallelism#Concurrent_Haskell">Haskell</a>,
        <a href="http://blogs.msdn.com/b/dsyme/archive/2010/02/15/async-and-parallel-design-patterns-in-f-part-3-agents.aspx">F#</a>,
        <a href="http://msdn.microsoft.com/en-us/library/vstudio/hh191443.aspx">C#</a>,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html">Java</a>,
        and classic concurrency patterns.
      </p>
      <p>
        The design goals of this gem are:
        <ul>
          <li>Be an 'unopinionated' toolbox that provides useful utilities without debating which is better or why</li>
          <li>Remain free of external gem dependencies</li>
          <li>Stay true to the spirit of the languages providing inspiration</li>
          <li>But implement in a way that makes sense for Ruby</li>
          <li>Keep the semantics as idiomatic Ruby as possible</li>
          <li>Support features that make sense in Ruby</li>
          <li>Exclude features that don't make sense in Ruby</li>
          <li>Be small, lean, and loosely coupled</li>
        </ul>
      </p>
    </td>
    <td align="right" valign="top">
      <img src="https://raw.githubusercontent.com/wiki/ruby-concurrency/concurrent-ruby/logo/concurrent-ruby-logo-300x300.png"/>
    </td>
  </tr>
</table>

<h2>Features &amp; Documentation</h2>

<p>Please see the <a href="https://github.com/ruby-concurrency/concurrent-ruby/wiki">Concurrent Ruby Wiki</a>
or the <a href="http://ruby-concurrency.github.io/concurrent-ruby/frames.html">API documentation</a>
for more information or join our <a href="http://groups.google.com/group/concurrent-ruby">mailing list</a>.</p>

<p>There are many concurrency abstractions in this library. These abstractions can be broadly categorized
into several general groups:</p>

<ul>
<li>Asynchronous concurrency abstractions including
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/Agent.html">Agent</a>,
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/Async.html">Async</a>,
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/Future.html">Future</a>,
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/Promise.html">Promise</a>,
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/ScheduledTask.html">ScheduledTask</a>,
and <a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/TimerTask.html">TimerTask</a> </li>
<li>Fast, light-weight <a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/Actor.html">Actor model</a> implementation. </li>
<li>Thread-safe variables including
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/IVar.html">I-Structures</a>,
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/MVar.html">M-Structures</a>,
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/ThreadLocalVar.html">thread-local variables</a>,
and <a href="https://github.com/ruby-concurrency/concurrent-ruby/wiki/TVar-(STM)">software transactional memory</a></li>
<li>Thread synchronization classes and algorithms including
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/Condition.html">condition</a>,
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/CountDownLatch.html">countdown latch</a>,
<a href="https://github.com/ruby-concurrency/concurrent-ruby/wiki/Dataflow">dataflow</a>, 
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/Event.html">event</a>,
<a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent/Exchanger.html">exchanger</a>,
and <a href="http://ruby-concurrency.github.io/concurrent-ruby/Concurrent.html#timeout-class_method">timeout</a></li>
<li>Java-inspired <a href="https://github.com/ruby-concurrency/concurrent-ruby/wiki/Thread%20Pools">executors</a> (thread pools and more)</li>
<li><a href="http://ruby-concurrency.github.io/concurrent-ruby/index.html">And many more</a>...</li>
</ul>

<h3>Semantic Versioning</h3>

<p>This gem adheres to the rules of <a href="http://semver.org/">semantic versioning</a>.</p>

<h3>Supported Ruby versions</h3>

<p>MRI 1.9.3, 2.0, 2.1, JRuby (1.9 mode), and Rubinius 2.x.
This library is pure Ruby and has no gem dependencies.
It should be fully compatible with any interpreter that is compliant with Ruby 1.9.3 or newer.</p>

<h3>Examples</h3>

<p>Many more code examples can be found in the documentation for each class (linked above).</p>

<p>Future and ScheduledTask:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>concurrent</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>thread</span><span class='tstring_end'>&#39;</span></span>   <span class='comment'># for Queue
</span><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>open-uri</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># for open(uri)
</span>
<span class='kw'>class</span> <span class='const'>Ticker</span>
  <span class='kw'>def</span> <span class='id identifier rubyid_get_year_end_closing'>get_year_end_closing</span><span class='lparen'>(</span><span class='id identifier rubyid_symbol'>symbol</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://ichart.finance.yahoo.com/table.csv?s=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_symbol'>symbol</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;a=11&amp;b=01&amp;c=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_year'>year</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;d=11&amp;e=31&amp;f=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_year'>year</span><span class='embexpr_end'>}</span><span class='tstring_content'>&amp;g=m</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span>
    <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>,</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='comment'># Future
</span><span class='id identifier rubyid_price'>price</span> <span class='op'>=</span> <span class='const'>Concurrent</span><span class='op'>::</span><span class='const'>Future</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lbrace'>{</span> <span class='const'>Ticker</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_get_year_end_closing'>get_year_end_closing</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>TWTR</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2013</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_price'>price</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='comment'>#=&gt; :pending
</span><span class='id identifier rubyid_sleep'>sleep</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>    <span class='comment'># do other stuff
</span><span class='id identifier rubyid_price'>price</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span> <span class='comment'>#=&gt; 63.65
</span><span class='id identifier rubyid_price'>price</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='comment'>#=&gt; :fulfilled
</span>
<span class='comment'># ScheduledTask
</span><span class='id identifier rubyid_task'>task</span> <span class='op'>=</span> <span class='const'>Concurrent</span><span class='op'>::</span><span class='const'>ScheduledTask</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='lbrace'>{</span> <span class='const'>Ticker</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_get_year_end_closing'>get_year_end_closing</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>INTC</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2013</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='comment'>#=&gt; :pending
</span><span class='id identifier rubyid_sleep'>sleep</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>   <span class='comment'># do other stuff
</span><span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span> <span class='comment'>#=&gt; 25.96
</span></code></pre>

<p>Actor:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>class</span> <span class='const'>Counter</span> <span class='op'>&lt;</span> <span class='const'>Concurrent</span><span class='op'>::</span><span class='const'>Actor</span><span class='op'>::</span><span class='const'>Context</span>
  <span class='comment'># Include context of an actor which gives this class access to reference
</span>  <span class='comment'># and other information about the actor
</span>
  <span class='comment'># use initialize as you wish
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_initial_value'>initial_value</span><span class='rparen'>)</span>
    <span class='ivar'>@count</span> <span class='op'>=</span> <span class='id identifier rubyid_initial_value'>initial_value</span>
  <span class='kw'>end</span>

  <span class='comment'># override on_message to define actor&#39;s behaviour
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_on_message'>on_message</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='const'>Integer</span> <span class='op'>===</span> <span class='id identifier rubyid_message'>message</span>
      <span class='ivar'>@count</span> <span class='op'>+=</span> <span class='id identifier rubyid_message'>message</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span> <span class='comment'>#
</span>
<span class='comment'># Create new actor naming the instance &#39;first&#39;.
</span><span class='comment'># Return value is a reference to the actor, the actual actor is never returned.
</span><span class='id identifier rubyid_counter'>counter</span> <span class='op'>=</span> <span class='const'>Counter</span><span class='period'>.</span><span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='int'>5</span><span class='rparen'>)</span>

<span class='comment'># Tell a message and forget returning self.
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_tell'>tell</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='id identifier rubyid_counter'>counter</span> <span class='op'>&lt;&lt;</span> <span class='int'>1</span>
<span class='comment'># (First counter now contains 7.)
</span>
<span class='comment'># Send a messages asking for a result.
</span><span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_ask'>ask</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span>
<span class='id identifier rubyid_counter'>counter</span><span class='period'>.</span><span class='id identifier rubyid_ask'>ask</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
</code></pre>

<h2>Installing and Building</h2>

<p>This gem includes several platform-specific optimizations. To reduce the possibility of
compilation errors, we provide pre-compiled gem packages for several platforms as well
as a pure-Ruby build. Installing the gem should be no different than installing any other
Rubygems-hosted gem.</p>

<h3>Installing</h3>

<pre class="code shell"><code class="shell">gem install concurrent-ruby
</code></pre>

<p>or add the following line to Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>concurrent-ruby</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>and run <code>bundle install</code> from your shell.</p>

<h3>Building</h3>

<p>Because we provide pre-compiled gem builds, users should never need to build the gem manually.
The build process for this gem is completely automated using open source tools. All of
the automation components are available in the <a href="https://github.com/ruby-concurrency/rake-compiler-dev-box">ruby-concurrency/rake-compiler-dev-box</a>
GitHub repository.</p>

<p>This gem will compile native C code under MRI and native Java code under JRuby. It is
also possible to build a pure-Ruby version. All builds have identical functionality.
The only difference is performance. Additionally, pure-Ruby classes are always available,
even when using the native optimizations. Please see the <a href="http://ruby-concurrency.github.io/concurrent-ruby/">documentation</a>
for more details.</p>

<p>To build and package the gem using MRI or JRuby, install the necessary build dependencies and run:</p>

<pre class="code shell"><code class="shell">bundle exec rake compile
bundle exec rake build
</code></pre>

<p>To build and package a pure-Ruby gem, on <em>any</em> platform and interpreter
(including MRI and JRuby), run:</p>

<pre class="code shell"><code class="shell">BUILD_PURE_RUBY=&#39;true&#39; bundle exec rake build
</code></pre>

<h2>Maintainers</h2>

<ul>
<li><a href="https://github.com/jdantonio">Jerry D&#39;Antonio</a></li>
<li><a href="https://github.com/mighe">Michele Della Torre</a></li>
<li><a href="https://github.com/chrisseaton">Chris Seaton</a></li>
<li><a href="https://github.com/lucasallan">Lucas Allan</a></li>
<li><a href="https://github.com/pitr-ch">Petr Chalupa</a></li>
</ul>

<h3>Contributing</h3>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am &#39;Add some feature&#39;</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol>

<h2>License and Copyright</h2>

<p><em>Concurrent Ruby</em> is free software released under the <a href="http://www.opensource.org/licenses/MIT">MIT License</a>.</p>

<p>The <em>Concurrent Ruby</em> <a href="https://github.com/ruby-concurrency/concurrent-ruby/wiki/Logo">logo</a>
was designed by <a href="https://twitter.com/zombyboy">David Jones</a>.
It is Copyright &copy; 2014 <a href="https://twitter.com/jerrydantonio">Jerry D&#39;Antonio</a>. All Rights Reserved.</p>
</div></div>

    <div id="footer">
  Generated on Wed Aug 13 18:20:35 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.1.2).
</div>

<script>
//  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
//    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
//      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
//  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
//
//  ga('create', 'UA-4005004-8', 'pitr.ch');
//  ga('send', 'pageview');
</script>

  </body>
</html>